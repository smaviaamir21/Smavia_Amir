#include <iostream>
using namespace std;

// Abstract Base Class
class BankAccount {
protected:
    int accountNumber;
    double balance;

public:
    BankAccount(int acc, double bal) {
        accountNumber = acc;
        balance = bal;
    }

    virtual void calculateInterest() = 0;   // Abstract method

    virtual void withdraw(double amount) {  // Virtual method
        balance -= amount;
        cout << "Withdrawn: " << amount << endl;
    }

    void showBalance() {
        cout << "Balance: " << balance << endl;
    }

    virtual ~BankAccount() {}
};

// Derived Class: Saving Account
class SavingAccount : public BankAccount {
public:
    SavingAccount(int acc, double bal) : BankAccount(acc, bal) {}

    void calculateInterest() override {
        cout << "Saving Interest: " << balance * 0.05 << endl;
    }
};

// Derived Class: Current Account
class CurrentAccount : public BankAccount {
public:
    CurrentAccount(int acc, double bal) : BankAccount(acc, bal) {}

    void calculateInterest() override {
        cout << "No interest for Current Account" << endl;
    }

    void withdraw(double amount) override {
        balance -= amount + 50;   // extra fee
        cout << "Withdrawn with fee: " << amount << endl;
    }
};

int main() {
    BankAccount* accounts[2];

    accounts[0] = new SavingAccount(101, 10000);
    accounts[1] = new CurrentAccount(102, 8000);

    for (int i = 0; i < 2; i++) {
        accounts[i]->calculateInterest();   // Dynamic binding
        accounts[i]->withdraw(1000);
        accounts[i]->showBalance();
        cout << "-----------------\n";
    }

    delete accounts[0];
    delete accounts[1];

    return 0;
}
